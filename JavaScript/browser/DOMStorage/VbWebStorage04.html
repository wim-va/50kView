<!DOCTYPE html>
<html>
<head>
<title>Web Storage - voorbeeld 4</title>
</head>
<body>
	<h1>array met JSON objecten in web storage</h1>
	<form>
		<label for="naam">Naam: </label><input type="text" id="naam"
			placeholder="Tik hier uw naam"><br /> <label for="voornaam">Voornaam: </label><input
			type="text" id="voornaam" placeholder="Tik hier uw voornaam"><br />
		<input type="button" value="Voeg toe"
			onclick="bewaarPersoonInLocalStorage(this.form.naam.value, this.form.voornaam.value)">
	</form>
	<input type="button" value="Toon"
		onclick="toonPersonenUitLocalStorage()">
	<div id="overzicht"></div>
</body>
<script>
function bewaarPersoonInLocalStorage(naam, voornaam){
	var personen = JSON.parse(localStorage.getItem('personen'));
	if (personen == null){
		personen = new Array();
	}
	personen[personen.length] = {"naam": naam, "voornaam": voornaam};
	localStorage.setItem('personen', JSON.stringify(personen));
}

function toonPersonenUitLocalStorage(){
	var personen = JSON.parse(localStorage.getItem('personen'));
	var output = "<h3>Overzicht personen:</h3>";
	if(personen != null){
		output += "<ul>"; 
		for(var i=0; i < personen.length; i++){
			output += "<li>" + personen[i].voornaam + " " + personen[i].naam + "</li>";
		}
		output += "</ul>";
	}
	document.getElementById("overzicht").innerHTML = output;
}
</script>
</html>